<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pengaturan - Jeno Admin</title>
    <link rel="stylesheet" href="style-admin.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <style>
      .settings-container {
        max-width: 800px;
        background: var(--white);
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        overflow: hidden;
        display: flex;
      }

      /* Sidebar Mini di dalam Pengaturan */
      .settings-nav {
        width: 200px;
        background: #fafafa;
        border-right: 1px solid #eee;
        padding: 20px 0;
      }

      .s-nav-item {
        padding: 15px 25px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        color: #666;
        transition: 0.3s;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .s-nav-item:hover {
        color: var(--secondary);
        background: #fff;
      }
      .s-nav-item.active {
        color: var(--secondary);
        background: #fff;
        border-right: 3px solid var(--secondary);
      }

      /* Area Form */
      .settings-content {
        flex: 1;
        padding: 40px;
        min-height: 450px;
      }

      .tab-content {
        display: none;
        animation: fadeIn 0.4s ease;
      }
      .tab-content.active {
        display: block;
      }

      .form-group {
        margin-bottom: 20px;
      }
      .form-group label {
        display: block;
        font-size: 13px;
        font-weight: 600;
        margin-bottom: 8px;
        color: #444;
      }

      .avatar-upload {
        display: flex;
        align-items: center;
        gap: 20px;
        margin-bottom: 30px;
      }

      .avatar-preview {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: var(--primary);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        font-weight: 600;
        border: 4px solid #fce4ec;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(5px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body>
    <aside class="sidebar">
      <div class="brand-section">
        <h2>JENO KITCHEN</h2>
      </div>

      <div class="admin-profile">
        <div class="admin-avatar-wrapper">
          <img
            src="https://ui-avatars.com/api/?name=Admin+Jeno&background=ff1178&color=fff"
            alt="Profile"
            class="admin-avatar"
          />
          <div class="online-indicator"></div>
        </div>
        <div class="admin-info">
          <h4>Selamat Datang,</h4>
          <p>Admin Jeno</p>
        </div>
      </div>

      <nav class="nav-menu">
        <a href="dashboard.html" class="nav-link"
          ><i class="fas fa-chart-line"></i> Dashboard</a
        >
        <a href="pesanan.html" class="nav-link"
          ><i class="fas fa-shopping-cart"></i> Pesanan</a
        >
        <a href="produk.html" class="nav-link"
          ><i class="fas fa-utensils"></i> Stok & Menu</a
        >
        <a href="interaksi.html" class="nav-link"
          ><i class="fas fa-comment-dots"></i> Testimoni</a
        >
        <a href="laporan.html" class="nav-link"
          ><i class="fas fa-file-invoice-dollar"></i> Laporan</a
        >
        <a href="pengaturan.html" class="nav-link active"
          ><i class="fas fa-cog"></i> Pengaturan</a
        >
        <a href="../index.html" class="nav-link logout"
          ><i class="fas fa-sign-out-alt"></i> Keluar</a
        >
      </nav>
    </aside>

    <main class="main-content">
      <header class="header">
        <h1>Pengaturan</h1>
        <p style="color: #888">Kelola identitas toko dan keamanan akun admin</p>
      </header>

      <div class="settings-container">
        <div class="settings-nav">
          <div class="s-nav-item active" onclick="openTab(event, 'profil')">
            <i class="fas fa-store"></i> Profil Toko
          </div>
          <div class="s-nav-item" onclick="openTab(event, 'keamanan')">
            <i class="fas fa-shield-alt"></i> Keamanan
          </div>
        </div>

        <div class="settings-content">
          <div id="profil" class="tab-content active">
            <h3 style="margin-bottom: 25px">Informasi Umum</h3>
            <div class="avatar-upload">
              <div
                id="imagePreview"
                class="avatar-preview"
                style="
                  background-image: url('../img/logo-default.png');
                  background-size: cover;
                  background-position: center;
                "
              >
                <span id="initials">J</span>
              </div>
              <div>
                <button
                  type="button"
                  class="btn btn-outline"
                  onclick="document.getElementById('logoInput').click()"
                >
                  <i class="fas fa-camera"></i> Ganti Logo
                </button>
                <input
                  type="file"
                  id="logoInput"
                  accept="image/*"
                  style="display: none"
                  onchange="previewLogo(this)"
                />
                <p style="font-size: 10px; color: #999; margin-top: 5px">
                  Format: JPG, PNG. Maks 2MB
                </p>
              </div>
            </div>
            <form id="form-profil" onsubmit="saveSettings(event)">
              <div class="form-group">
                <label>Nama Toko</label>
                <input type="text" class="form-input" value="Jeno Kitchen" />
              </div>
              <div class="form-group">
                <label>Slogan Toko</label>
                <input
                  type="text"
                  class="form-input"
                  value="Camilan Pedas Nikmat Tiada Dua"
                />
              </div>
              <div class="form-group">
                <label>WhatsApp Admin</label>
                <input type="text" class="form-input" value="08123456789" />
              </div>
              <button type="submit" class="btn btn-primary">
                <i class="fas fa-save"></i> Simpan Profil
              </button>
            </form>
          </div>

          <div id="keamanan" class="tab-content">
            <h3 style="margin-bottom: 25px">Ubah Password</h3>
            <form id="form-pass" onsubmit="saveSettings(event)">
              <div class="form-group">
                <label>Password Saat Ini</label>
                <input
                  type="password"
                  class="form-input"
                  placeholder="********"
                />
              </div>
              <div class="form-group">
                <label>Password Baru</label>
                <input
                  type="password"
                  class="form-input"
                  placeholder="Min. 8 Karakter"
                />
              </div>
              <div class="form-group">
                <label>Konfirmasi Password Baru</label>
                <input
                  type="password"
                  class="form-input"
                  placeholder="Ulangi Password"
                />
              </div>
              <button
                type="submit"
                class="btn btn-primary"
                style="background: var(--dark)"
              >
                <i class="fas fa-key"></i> Update Password
              </button>
            </form>
          </div>
        </div>
      </div>
    </main>

    <script>
      // FUNGSI TAB INTERAKTIF
      function openTab(evt, tabName) {
        const contents = document.getElementsByClassName("tab-content");
        for (let i = 0; i < contents.length; i++) {
          contents[i].classList.remove("active");
        }

        const navItems = document.getElementsByClassName("s-nav-item");
        for (let i = 0; i < navItems.length; i++) {
          navItems[i].classList.remove("active");
        }

        document.getElementById(tabName).classList.add("active");
        evt.currentTarget.classList.add("active");
      }

      // FUNGSI REAKSI SIMPAN
      function saveSettings(e) {
        e.preventDefault();
        const btn = e.target.querySelector("button");
        const originalText = btn.innerHTML;

        // Reaksi Loading
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Memproses...';
        btn.disabled = true;

        setTimeout(() => {
          alert("Perubahan berhasil disimpan secara permanen!");
          btn.innerHTML = originalText;
          btn.disabled = false;
        }, 1000);
      }
      //inii inputt logooo
      function previewLogo(input) {
        const preview = document.getElementById("imagePreview");
        const initials = document.getElementById("initials");

        if (input.files && input.files[0]) {
          const reader = new FileReader();

          reader.onload = function (e) {
            // Pasang gambar ke background div
            preview.style.backgroundImage = `url('${e.target.result}')`;
            preview.style.backgroundSize = "cover";
            // Sembunyikan inisial huruf J
            initials.style.display = "none";

            // Notifikasi sukses kecil
            console.log("Logo berhasil dimuat ke preview");
          };

          reader.readAsDataURL(input.files[0]);
        }
      }
    </script>
  </body>
</html>
